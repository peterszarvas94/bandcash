package dev

import (
	ctxi18n "github.com/invopop/ctxi18n/i18n"

	appi18n "bandcash/internal/i18n"
	"bandcash/internal/utils"
	shared "bandcash/models/shared"
)

templ Index() {
	<!DOCTYPE html>
	<html lang={ appi18n.LocaleCode(ctx) }>
		@shared.Head(ctxi18n.T(ctx, "dev.notifications.title"))
		<body>
			<div data-signals={ templ.JSONString(map[string]any{"csrf": utils.CSRFToken(ctx), "errors": map[string]any{"name": ""}, "formData": map[string]any{"name": ""}}) } data-init="@get('/sse')"></div>
			@shared.Notifications()
			<main id="app" class="single-col">
				@shared.Breadcrumbs([]utils.Crumb{{Label: ctxi18n.T(ctx, "dev.title"), Href: "/dev"}, {Label: ctxi18n.T(ctx, "dev.notifications.title")}}, "")
				@shared.DevTabs("notifications")
				<p>{ctxi18n.T(ctx, "dev.notifications.rule")}</p>
				<h2>{ctxi18n.T(ctx, "dev.notifications.inline_test")}</h2>
				<form class="form" data-on:submit="@post('/dev/notifications/inline')">
					<div class="field">
						<label>{ctxi18n.T(ctx, "dev.notifications.required_field")}</label>
						<input type="text" data-bind="formData.name" placeholder={ctxi18n.T(ctx, "dev.notifications.type_anything")}/>
						<div data-show="$errors && $errors.name" class="color-error" data-text="$errors.name"></div>
					</div>
					<div class="row">
						<button type="submit" class="btn btn-primary">{ctxi18n.T(ctx, "dev.notifications.submit_inline")}</button>
					</div>
				</form>
				<h2>{ctxi18n.T(ctx, "dev.notifications.notification_tests")}</h2>
				<div class="row row-wrap">
					<button type="button" class="btn btn-info" data-on:click="@post('/dev/notifications/info')">{ctxi18n.T(ctx, "dev.notifications.info")}</button>
					<button type="button" class="btn btn-success" data-on:click="@post('/dev/notifications/success')">{ctxi18n.T(ctx, "dev.notifications.success")}</button>
					<button type="button" class="btn btn-warning" data-on:click="@post('/dev/notifications/warning')">{ctxi18n.T(ctx, "dev.notifications.warning")}</button>
					<button type="button" class="btn btn-danger" data-on:click="@post('/dev/notifications/error')">{ctxi18n.T(ctx, "dev.notifications.error")}</button>
				</div>
			</main>
		</body>
	</html>
}
