{{define "show"}}
<!doctype html>
<html lang="en">
  {{template "head" .}}
  <body>
    <div
      data-signals="{mode: 'single'}"
      data-init="@get('/sse')"
    ></div>
    {{block "payee-show" .}}
    <main id="app">
      <h1>{{.Title}}</h1>
      {{template "breadcrumbs" .}}

      <div class="entry-details">
        <p><strong>Name:</strong> {{.Payee.Name}}</p>
        <p><strong>Description:</strong> {{.Payee.Description}}</p>
      </div>

      <p class="row">
        <a href="/payee/{{.Payee.ID}}/edit">Edit</a>
        <button
          data-on:click="if (window.confirm('Delete this payee?')) { @delete('/payee/{{.Payee.ID}}') }"
        >
          Delete
        </button>
      </p>

      <h2>Entries</h2>
      <table class="table">
        <thead>
          <tr>
            <th>Title</th>
            <th>Time</th>
            <th>Description</th>
            <th>Entry Amount</th>
            <th>Cut</th>
            <th>Expense</th>
            <th>Total</th>
          </tr>
        </thead>
        <tbody>
          {{range .Entries}}
          <tr>
            <td><a href="/entry/{{.ID}}">{{.Title}}</a></td>
            <td>{{.Time}}</td>
            <td>{{.Description}}</td>
            <td class="text-right">{{printf "%d" .Amount}}</td>
            <td class="text-right">{{printf "%d" .ParticipantAmount}}</td>
            <td class="text-right">{{printf "%d" .ParticipantExpense}}</td>
            <td class="text-right">{{printf "%d" (add .ParticipantAmount .ParticipantExpense)}}</td>
          </tr>
          {{else}}
          <tr>
            <td colspan="7">no items</td>
          </tr>
          {{end}}
        </tbody>
      </table>
    </main>
    {{end}}
  </body>
</html>
{{end}}
