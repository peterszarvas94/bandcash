{{define "edit"}}
<!doctype html>
<html lang="en">
  {{template "head" .}}
  <body>
    <div
      data-signals="{view: '/entry/{{.Entry.ID}}/edit', formData: {title: '{{.Entry.Title}}', time: '{{.Entry.Time}}', description: '{{.Entry.Description}}', amount: {{.Entry.Amount}}}}"
      data-init="@get('/sse')"
    ></div>
    {{block "entry-edit" .}}
    <main id="app">
      <h1>{{.Title}}</h1>
      {{template "breadcrumbs" .}}

      <form class="form" data-on:submit="@put('/entry/{{.Entry.ID}}/single')">
        <div>
          <label>Title</label>
          <input type="text" data-bind="formData.title" />
          <div
            data-show="$errors && $errors.title"
            class="color-error"
            data-text="$errors.title"
          ></div>
        </div>
        <div>
          <label>Time</label>
          <input type="datetime-local" data-bind="formData.time" />
          <div
            data-show="$errors && $errors.time"
            class="color-error"
            data-text="$errors.time"
          ></div>
        </div>
        <div>
          <label>Description</label>
          <textarea data-bind="formData.description" rows="3"></textarea>
          <div
            data-show="$errors && $errors.description"
            class="color-error"
            data-text="$errors.description"
          ></div>
        </div>
        <div>
          <label>Amount</label>
          <input type="number" data-bind="formData.amount" step="1" />
          <div
            data-show="$errors && $errors.amount"
            class="color-error"
            data-text="$errors.amount"
          ></div>
        </div>
        <div class="row">
          <button type="submit">Update Entry</button>
          <a href="/entry/{{.Entry.ID}}">Cancel</a>
        </div>
      </form>
    </main>
    {{end}}
  </body>
</html>
{{end}}
